<form [formGroup]="grievanceForm">
<mat-toolbar class="example-toolbar mat-elevation-z0 my-toolbar">
    <h3>Grievance Add</h3>
    <span class="toolbar-spacer"></span>
    <button mat-icon-button color="light" [routerLink]="['/dashboard']"><mat-icon text-right>close</mat-icon></button>
  </mat-toolbar>


    <mat-card class="mat-elevation-z1 mt-3">
      <mat-card-content>
          <div class="row">
          
          <div class="col-12 col-sm-12">
            <mat-form-field appearance="outline">
              <mat-label>Subject</mat-label>
              <input matInput type="text" [(ngModel)]="ParamForms.tGrievanceSubject" formControlName="tGrievanceSubject" appAutoFocus required>
              <mat-error *ngIf="errorHandling('tGrievanceSubject','required')">Grievance Subject is required!</mat-error>
            </mat-form-field>
          </div>   
          <div class="col-12 col-sm-12">
            <mat-form-field appearance="outline" >
              <mat-label>Grievanve Type</mat-label>
              <mat-select [(ngModel)]="ParamForms.nGrievanceTypeId" formControlName="nGrievanceTypeId"  required>
                <mat-option *ngFor="let pt of ParamType" [value]="pt.nGrievanceTypeId">
                  {{pt.tGrievanceType}} 
                </mat-option>
              </mat-select>
              <mat-error *ngIf="errorHandling('nGrievanceTypeId','required')">Grievance Type is required!</mat-error>
            </mat-form-field>
          </div>  
          <div class="col-12 col-sm-12">
            <mat-form-field appearance="outline">
              <mat-label>Grievance Description</mat-label>
              <textarea matInput type="text" formControlName="tGrievanceDescription" [(ngModel)]="ParamForms.tGrievanceDescription"  required></textarea>
              <mat-error *ngIf="errorHandling('tGrievanceDescription','required')">Grievance Description is required!</mat-error>
            </mat-form-field>
          </div> 
            <div class="col-12 col-sm-12">
              
              <label>Attach files (Max Size 1 MB)</label>
              <div class="custom-file">
                <input type="file" class="custom-file-input" (change)="onFileChange($event)"  id="customFile">
                <br/>
                  <button (click)="uploadFile()" [disabled]="!theFile">
                    Upload File
                  </button>
              </div>
              
            </div>                
          </div>      
      </mat-card-content>
      <mat-card-footer>
          <div class="float-right mt-3 mb-3">
              <button mat-raised-button color="primary" style="margin: 8px 8px 8px 0;" (click)="SaveGrievance()">
                <mat-icon text-right>save</mat-icon> Save
              </button>
              <button mat-raised-button color="warn" [routerLink]="['/dashboard']">
                  <mat-icon text-right>close</mat-icon> Close
              </button>
          </div> 
      </mat-card-footer>  
  </mat-card>
  </form>
